<Window x:Class="FuturesBot.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:wv2="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf"
        mc:Ignorable="d"
        Title="FuturesBot" Height="900" Width="1400">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>      <!-- Верхняя область: браузер и кнопки -->
            <RowDefinition Height="5"/>      <!-- Сплиттер -->
            <RowDefinition Height="200"/>    <!-- Нижняя область: лог -->
        </Grid.RowDefinitions>

        <!-- ВЕРХНЯЯ ЧАСТЬ -->
        <DockPanel Grid.Row="0">

            <!-- Навигационная панель сверху -->
            <DockPanel DockPanel.Dock="Top" Margin="0,0,0,10">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" DockPanel.Dock="Left">
                    <Button x:Name="BackButton" Content="← Назад" Width="80" Margin="5,0" Click="BackButton_Click" IsEnabled="False"/>
                    <Button x:Name="ForwardButton" Content="Вперёд →" Width="80" Margin="5,0" Click="ForwardButton_Click" IsEnabled="False"/>
                </StackPanel>

                <TextBox x:Name="AddressBar" Margin="10,0,0,0" VerticalAlignment="Center" DockPanel.Dock="Right"
                         KeyDown="AddressBar_KeyDown" Width="600" Text="https://www.binance.com/en/futures/BTCUSDT"/>
            </DockPanel>

            <!-- Панель управления снизу браузера -->
            <DockPanel DockPanel.Dock="Bottom" LastChildFill="True" Margin="0,10,0,10" MinHeight="60">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                    <Label Content="Quantity:" VerticalAlignment="Center" Margin="5,0"/>
                    <TextBox x:Name="QuantityBox" Width="100" Text="0.01" Margin="5,0"/>

                    <Label Content="Leverage:" VerticalAlignment="Center" Margin="5,0"/>
                    <TextBox x:Name="LeverageBox" Width="50" Text="20" Margin="5,0"/>

                    <Button x:Name="OpenLongButton" Content="Open Long" Width="100" Click="OpenLongButton_Click" Margin="5,0"/>
                    <Button x:Name="OpenShortButton" Content="Open Short" Width="100" Click="OpenShortButton_Click" Margin="5,0"/>
                    <Button x:Name="ClosePositionButton" Content="Close Position" Width="120" Click="ClosePositionButton_Click" Margin="5,0"/>
                </StackPanel>

                <!-- Кнопка настроек справа -->
                <Button Content="⚙️ Настройки" Width="120" HorizontalAlignment="Right" Margin="10,0" Click="OpenSettings_Click"/>
            </DockPanel>

            <!-- WebView2 занимает всё оставшееся пространство сверху -->
            <wv2:WebView2 Name="BrowserView" Source="https://www.binance.com/en/futures/BTCUSDT" />
        </DockPanel>

        <!-- СПЛИТТЕР -->
        <GridSplitter Grid.Row="1" Height="5" HorizontalAlignment="Stretch" VerticalAlignment="Center"
                      Background="Gray" ResizeDirection="Rows" ResizeBehavior="PreviousAndNext" ShowsPreview="True" />

        <!-- НИЖНЯЯ ЧАСТЬ (ЛОГ) -->
        <TextBox Grid.Row="2" x:Name="LogBox" Margin="0" IsReadOnly="True" TextWrapping="Wrap" VerticalScrollBarVisibility="Auto"/>
    </Grid>
</Window>
